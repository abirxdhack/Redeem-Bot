import telebot
import time
import random
from telebot.types import InlineKeyboardMarkup, InlineKeyboardButton, CallbackQuery
from datetime import datetime, timedelta

# Bot token
BOT_TOKEN = '7701905324:AAGrLHNe5wuAIzVHLv2yVRiS1vFaNekvKug'
OWNER_USER_ID = 7303810912
PROOF_CHANNEL_ID = -1002113563800
FORWARD_CHANNEL_IDS = [-1001676737394, -1002181773077, -1002224203739]

bot = telebot.TeleBot(BOT_TOKEN)

required_channels = ["@ModVipRM", "@ModviprmBackup", "@modDirect_download", "@Proofchannelch"]
buttons = [
    ("üîó ModVipRM", "https://t.me/ModVipRM"),
    ("üîó ModVipRM Backup", "https://t.me/ModviprmBackup"),
    ("üìÇ ModVipRM APK", "https://t.me/modDirect_download"),
    ("üì¢ Proof Channel", "https://t.me/Proofchannelch")
]

# Dictionary to store the mapping of forwarded messages to original users
forwarded_messages = {}

# Define promo links for different services
promo_links = {
    "YouTube": [
        "https://families.google.com/join/promo/StTMvLwjgxuEhNMIIqeUPQA9ZzjJuQ?pli=1",
        "https://families.google.com/join/promo/hIx3V_H3WcEHbgv8Vr9h1YMG5ceGkw?pli=1",
        "https://families.google.com/join/promo/DSgghlmPq1nVoB5npLTqhQJSUq_CGw?pli=1",
        "https://families.google.com/join/promo/-6qah32kH-4yORY2993Wc2qfNRSaBA?pli=1",
        "https://families.google.com/join/promo/nvNKCIgHPNeh3ORtIb0r0FSISxPERw?pli=1"
    ],
    "Crunchyroll": [
        "Email: nitrovai914@gmail.com Pass: Samiul098@",
        "Email: nitrovai914@gmail.com Pass: Samiul098@",
        "Email: nitrovai914@gmail.com Pass: Samiul098@",
        "Email: nitrovai914@gmail.com Pass: Samiul098@",
        "Email: nitrovai914@gmail.com Pass: Samiul098@"
    ],
    "Canva": [
        "Email: example1@canva.com Pass: password1",
        "Email: example2@canva.com Pass: password2"
    ],
    "Hostinger": [
        "Email: example1@hostinger.com Pass: password1",
        "Email: example2@hostinger.com Pass: password2"
    ],
    "Netflix": [
        "Email: example1@netflix.com Pass: password1",
        "Email: example2@netflix.com Pass: password2"
    ],
    "PrimeVideo": [
        "Email: example1@primevideo.com Pass: password1",
        "Email: example2@primevideo.com Pass: password2"
    ],
    "Spotify": [
        "Email: example1@spotify.com Pass: password1",
        "Email: example2@spotify.com Pass: password2"
    ]
}

# Define image URLs for different services
service_images = {
    "YouTube": "https://t.me/abir_x_official_developer/82",
    "Crunchyroll": "https://t.me/abir_x_official_developer/86",
    "Netflix": "https://t.me/abir_x_official_developer/88",
    "PrimeVideo": "https://t.me/abir_x_official_developer/89",
    "Canva": "https://t.me/abir_x_official_developer/91",
    "Spotify": "https://t.me/abir_x_official_developer/93"
}

# Storage for generated codes and redeemed information
generated_codes = {}
redeemed_codes = {}
# Storage for user IDs
user_ids = set()
# Bot start time
start_time = datetime.now()

# Function to check channel join status
def is_user_in_channels(user_id):
    try:
        for channel in required_channels:
            status = bot.get_chat_member(channel, user_id).status
            if status not in ['member', 'administrator', 'creator']:
                return False
        return True
    except Exception as e:
        print(f"Error checking channel status: {e}")
        return False

# Start command handler
@bot.message_handler(commands=['start'])
def start(message):
    user_id = message.from_user.id
    # Store user ID for broadcasting later
    user_ids.add(user_id)
    try:
        if not is_user_in_channels(user_id):
            keyboard = InlineKeyboardMarkup()
            # Arrange buttons in 2-2-1 formation
            keyboard.row(InlineKeyboardButton(text="üîó ModVipRM", url="https://t.me/ModVipRM"),
                         InlineKeyboardButton(text="üîó ModVipRM Backup", url="https://t.me/ModviprmBackup"))
            keyboard.row(InlineKeyboardButton(text="üìÇ ModVipRM APK", url="https://t.me/modDirect_download"),
                         InlineKeyboardButton(text="üì¢ Proof Channel", url="https://t.me/Proofchannelch"))
            keyboard.add(InlineKeyboardButton(text="‚úÖ Joined", callback_data="joined_check"))
            
            bot.send_photo(
                message.chat.id,
                photo="https://t.me/abir_x_official_developer/77",
                caption=("*Welcome to Redeem Code ABIR XD Bot!*\n\n"
                         "*You can now use the bot.*\n"
                         "*Use /redeem <code> to redeem a code.*\n"
                         "*OWNER: @abirxdhackz*\n"
                         "*Join: ModVipRM*").replace('_', '\\_'),
                reply_markup=keyboard,
                parse_mode="Markdown"
            )
        else:
            bot.send_message(message.chat.id, "*Welcome back! You are already joined! Use /redeem <code> to redeem.*".replace('_', '\\_'), parse_mode="Markdown")
    except telebot.apihelper.ApiTelegramException as e:
        if e.error_code == 403:
            print(f"User {user_id} has blocked the bot.")
        else:
            print(f"Error: {e}")

# Callback handler for joined button
@bot.callback_query_handler(func=lambda call: call.data == "joined_check")
def joined_check(call):
    user_id = call.from_user.id
    if is_user_in_channels(user_id):
        bot.answer_callback_query(call.id, "You have joined the channels!")
        bot.send_message(call.message.chat.id, "*You can now use the bot. Use /redeem <code> to redeem a code.*".replace('_', '\\_'), parse_mode="Markdown")
    else:
        bot.answer_callback_query(call.id, "Please join all required channels first.", show_alert=True)

# Generate redeem codes (Owner only)
@bot.message_handler(commands=['gen'])
def generate_codes(message):
    if message.from_user.username != "abirxdhackz":
        bot.reply_to(message, "You are not authorized to use this command.")
        return

    try:
        _, count, service_name = message.text.split()
        count = int(count)
    except ValueError:
        bot.reply_to(message, "*Usage: /gen <number_of_codes> <service_name>*".replace('_', '\\_'), parse_mode="Markdown")
        return

    valid_services = [
        "YouTube", "Crunchyroll", "Canva", "Hostinger", "Netflix", "PrimeVideo", "Spotify"
    ]

    if service_name not in valid_services:
        bot.reply_to(message, f"*Invalid service name. Please choose from: {', '.join(valid_services)}*".replace('_', '\\_'), parse_mode="Markdown")
        return

    codes = []
    for _ in range(count):
        code = f"{service_name.upper()}-{random.randint(1000, 9999)}-{random.randint(1000, 9999)}-{random.randint(1000, 9999)}"
        if code not in generated_codes:  # Ensure unique codes
            generated_codes[code] = None
            codes.append(code)

    # Format the codes as per the new requirement
    formatted_codes = "\n".join([f"‚ûî `{code}` ‚òëÔ∏è" for code in codes])

    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="üßæ Updates Channel ‚òëÔ∏è", url="https://t.me/ModVipRM"))
    keyboard.add(InlineKeyboardButton(text="ü§ñ Bot Owner ‚òëÔ∏è", url="https://t.me/abirxdhackz"))

    bot.reply_to(
        message,
        f"*Hey Bro All The Codes Generated Are Below For {service_name}.*\n\n{formatted_codes}\n\n*Need help? Join our channels or contact the bot owner for assistance!*".replace('_', '\\_'),
        parse_mode="Markdown",
        reply_markup=keyboard
    )

# Post command handler
@bot.message_handler(commands=['post'])
def post_announcement(message):
    if message.from_user.username != "abirxdhackz":
        bot.reply_to(message, "You are not authorized to use this command.")
        return

    if not generated_codes:
        bot.reply_to(message, "No codes have been generated yet.")
        return

    # Extract the service name from the first code
    first_code = next(iter(generated_codes.keys()))
    service_name = first_code.split('-')[0].capitalize()

    # Special case for "PrimeVideo"
    if service_name.lower() == "primevideo":
        service_name = "PrimeVideo"

    # Format the codes for the post
    formatted_codes = "\n".join([f"‚ûî `{code}` ‚òëÔ∏è" for code in generated_codes.keys()])

    # Create the post content
    post_content = (
        f"‚û°Ô∏è ‚ú® *{service_name} Premium Account Giveaway* ‚ú® ‚¨ÖÔ∏è\n\n"
        f"üü¢ *Generated {len(generated_codes)} Redeem Codes* üü¢:\n\n"
        f"{formatted_codes}\n\n"
        f"‚û°Ô∏è *Redeem The Code By Sending This Command- /redeem {first_code.split('-')[0]}-XXXX-XXXX-XXXX*\n\n"
        f"‚û°Ô∏è *Redeem From This Bot-  Xtreme Redeem ‚ö°Ô∏è [Open Bot To Redeem](https://t.me/Redeem_Ultimate_Bot)*\n\n"
        "üîπ *First 05 Users Will Win It* üî∫\n"
        "üîπ *Hurry Up! Only The First 5 Users Will Win This Giveaway !* ‚åõÔ∏è\n\n"
        "‚ù§Ô∏è *Send Screenshot There- @abirxdhackz* ‚úÖ ‚úîÔ∏è\n\n"
        "‚û°Ô∏è *Share Our Channel For More Exciting Giveaways* ‚úÖ\n"
        "‚û°Ô∏è *For More Enquiry ‚Äî‚Äî ‚ù§Ô∏è @abirxdhackz* ‚úîÔ∏è\n"
        "‚û°Ô∏è *For More Information Check @ModVipRM* ‚òùÔ∏è\n\n"
        "‚ù§Ô∏è *Thank You For Staying With Us* ‚ù§Ô∏è"
    ).replace('\\', '_')

    # Get the image URL for the service
    image_url = service_images.get(service_name, "https://t.me/abir_x_official_developer/82")

    # Define the keyboard
    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="‚úÖ Open Bot To Redeem", url="https://t.me/Redeem_Ultimate_Bot"))

    # Send the post to the main channel
    try:
        bot.send_photo(
            message.chat.id,
            photo=image_url,
            caption=post_content,
            reply_markup=keyboard,
            parse_mode="Markdown"
        )
    except Exception as e:
        bot.reply_to(message, f"Error sending post to the main channel: {e}")

    # Forward the post to other channels
    for channel_id in FORWARD_CHANNEL_IDS:
        try:
            bot.send_photo(
                channel_id,
                photo=image_url,
                caption=post_content,
                reply_markup=keyboard,
                parse_mode="Markdown"
            )
        except Exception as e:
            print(f"Error forwarding post to channel {channel_id}: {e}")

# Function to handle the /redeem command
@bot.message_handler(commands=['redeem'])
def redeem_code(message):
    """ Redeem the code provided by the user """
    user_id = message.from_user.id
    username = message.from_user.username or "N/A"
    full_name = message.from_user.full_name or "N/A"

    if not is_user_in_channels(user_id):
        bot.send_message(message.chat.id, "Please join all required channels first.")
        return

    try:
        _, code = message.text.split()
    except ValueError:
        bot.send_photo(
            message.chat.id,
            photo="https://t.me/abir_x_official_developer/85",
            caption="Please provide a code to redeem."
        )
        return

    if code not in generated_codes:
        bot.send_photo(
            message.chat.id,
            photo="https://t.me/abir_x_official_developer/79",
            caption="Invalid redeem code. Please try again with a valid code."
        )
        return

    if generated_codes[code] is not None:
        redeemer = generated_codes[code]
        bot.send_photo(
            message.chat.id,
            photo="https://t.me/abir_x_official_developer/81",
            caption=(f"üéâ *Code Already Redeemed!*\n"
                     f"üë§ *Name:* {redeemer['full_name']}\n"
                     f"üìõ *Username:* {redeemer['username']}\n"
                     f"üÜî *ID:* {redeemer['user_id']}\n"
                     f"‚è∞ *Time:* {redeemer['time']}").replace('_', '\\_'),
            parse_mode="Markdown"
        )
        return

    if user_id in [data['user_id'] for data in generated_codes.values() if data]:
        bot.send_message(message.chat.id, "*You have already redeemed a code.*".replace('_', '\\_'), parse_mode="Markdown")
        return

    timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    generated_codes[code] = {
        'user_id': user_id,
        'username': username,
        'full_name': full_name,
        'time': timestamp
    }

    # Determine the service from the code and select a promo link and image
    service_name = code.split('-')[0].title()

    if service_name == "Youtube":
        promo_link = random.choice(promo_links["YouTube"])  # Get a link from the predefined list for YouTube
    else:
        promo_link = random.choice(promo_links.get(service_name, ["Email: example@default.com Pass: password"]))  # Default email-pass format if service not found

    image_url = service_images.get(service_name, "https://t.me/abir_x_official_developer/82")  # Default to YouTube image if service not found

    # Check if the promo link is an email/pass format or a URL
    if service_name == "Youtube" or "Email:" not in promo_link:
        keyboard = InlineKeyboardMarkup()
        keyboard.add(InlineKeyboardButton(text=f"üîó Open {service_name} Premium Link", url=promo_link))
        keyboard.add(InlineKeyboardButton(text="üìú How To Leave Old Family", url="https://t.me/ModVipRM/3530"))

        bot.send_photo(
            message.chat.id,
            photo=image_url,
            caption=(f"üéâ *Code Redeemed Successfully!*\n"
                     f"üë§ *Name:* {full_name}\n"
                     f"üìõ *Username:* {username}\n"
                     f"üÜî *ID:* {user_id}\n"
                     f"‚è∞ *Time:* {timestamp}\n"
                     f"üîó *Your {service_name} Premium link:* {promo_link}").replace('_', '\\_'),
            reply_markup=keyboard,
            parse_mode="Markdown"
        )
    else:
        promo_text = f"üîó *Your {service_name} Premium account:* {promo_link}"
        keyboard = InlineKeyboardMarkup()
        keyboard.add(InlineKeyboardButton(text="üìú How To Leave Old Family", url="https://t.me/ModVipRM/3530"))

        bot.send_photo(
            message.chat.id,
            photo=image_url,
            caption=(f"üéâ *Code Redeemed Successfully!*\n"
                     f"üë§ *Name:* {full_name}\n"
                     f"üìõ *Username:* {username}\n"
                     f"üÜî *ID:* {user_id}\n"
                     f"‚è∞ *Time:* {timestamp}\n"
                     f"{promo_text}").replace('_', '\\_'),
            reply_markup=keyboard,
            parse_mode="Markdown"
        )

    proof_message = (f"üéâ *Code Redeemed Successfully!*\n"
                     f"üë§ *Name:* {full_name}\n"
                     f"üìõ *Username:* {username}\n"
                     f"üÜî *ID:* {user_id}\n"
                     f"‚è∞ *Time:* {timestamp}\n\n"
                     f"*Use the bot to get your own {service_name} Premium account!*\n"
                     f"*Join our channels for more updates and giveaways!*").replace('_', '\\_')

    proof_keyboard = InlineKeyboardMarkup()
    proof_keyboard.add(InlineKeyboardButton(text="ü§ñ Get Premium Account Now ‚òëÔ∏è", url="https://t.me/Redeem_Ultimate_Bot"))
    proof_keyboard.add(InlineKeyboardButton(text="üìú Get Redeem Codes ‚òëÔ∏è", url="https://t.me/addlist/wskLZdSg8K02NzVl"))

    bot.send_message(PROOF_CHANNEL_ID, proof_message, reply_markup=proof_keyboard, parse_mode="Markdown")

    # Forward the proof message to the owner
    try:
        bot.send_message(OWNER_USER_ID, proof_message, reply_markup=proof_keyboard, parse_mode="Markdown")
    except telebot.apihelper.ApiTelegramException as e:
        print(f"Error sending message to owner: {e}")
        
# Send command handler to broadcast messages
@bot.message_handler(commands=['send'])
def ask_broadcast_message(message):
    if message.from_user.id != OWNER_USER_ID:
        bot.reply_to(message, "You are not authorized to use this command.")
        return

    msg = bot.reply_to(message, "*Please Enter A Message To Broadcast To Users*".replace('_', '\\_'), parse_mode="Markdown")
    bot.register_next_step_handler(msg, broadcast_message)

def broadcast_message(message):
    if message.from_user.id != OWNER_USER_ID:
        bot.reply_to(message, "You are not authorized to use this command.")
        return

    broadcast_text = f"*üì¢ [ Broadcast From Owner ] üì¢*\n\n{message.text}\n\n*For More Updates, [Join Now](https://t.me/ModVipRM)*".replace('_', '\\_')
    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="‚òëÔ∏è Join Our All Community ü•∞", url="https://t.me/addlist/wskLZdSg8K02NzVl"))

    for user_id in user_ids:
        try:
            bot.send_message(user_id, broadcast_text, reply_markup=keyboard, parse_mode="Markdown", disable_web_page_preview=True)
        except telebot.apihelper.ApiTelegramException as e:
            print(f"Error sending message to user {user_id}: {e}")

    # Notify the owner that the broadcast was successful
    bot.send_message(OWNER_USER_ID, "*Broadcast successful!*".replace('_', '\\_'), parse_mode="Markdown")

# Stats command handler
@bot.message_handler(commands=['stats'])
def stats(message):
    current_time = datetime.now()
    uptime = current_time - start_time
    hours, remainder = divmod(int(uptime.total_seconds()), 3600)
    minutes, seconds = divmod(remainder, 60)

    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="‚òëÔ∏è ·¥ä·¥è…™…¥ ·¥è·¥ú Ä ·¥Ñ·¥è·¥Ö…™…¥…¢ ·¥Ñ ú·¥Ä…¥…¥·¥á ü ‚òëÔ∏è", url="https://t.me/addlist/wskLZdSg8K02NzVl"))

    bot.send_photo(
        message.chat.id,
        photo="https://t.me/abir_x_official_developer/84",
        caption=(
            "‚û† üìä *ÔΩ¢Bot Live Statistics „Äç* üìä\n"
            "‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n"
            f"‚î£‚òëÔ∏è *Total Users:* {len(user_ids)} *People*\n"
            "‚î£‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n"
            f"‚î£‚òëÔ∏è *Uptime :*  {hours} hours {minutes} mins {seconds} secs üì®\n"
            "‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n"
            "‚ò†Ô∏è *·¥†·¥á ÄÍú±…™·¥è…¥ : Latest*\n\n"
            "üîÑ * ü·¥ÄÍú±·¥õ ·¥ú·¥ò·¥Ö·¥Ä·¥õ·¥á 24 Dec ,2024*\n\n"
            "‚òëÔ∏è * ô·¥è·¥õ ·¥Ñ Ä·¥á·¥Ä·¥õ·¥è Ä : @abirxdhackz*\n\n"
            "‚òëÔ∏è *·¥ä·¥è…™…¥ ·¥è·¥ú Ä ·¥Ñ·¥è·¥Ö…™…¥…¢ ·¥Ñ ú·¥Ä…¥…¥·¥á ü Íú∞·¥è Ä ·¥ç·¥è Ä·¥á  ô·¥è·¥õÍú± ‚òëÔ∏è*\n"
        ).replace('_', '\\_'),
        reply_markup=keyboard,
        parse_mode="Markdown"
    )

# Privacy command handler
@bot.message_handler(commands=['privacy'])
def privacy_policy(message):
    user_id = message.from_user.id

    # Privacy policy content
    privacy_content = (
        "üîí **·¥ò Ä…™·¥†·¥Ä·¥Ñ è ·¥ò·¥è ü…™·¥Ñ è “ì·¥è Ä ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥á  ô·¥è·¥õ** üîí\n"
        "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n"
        "·¥°·¥á ü·¥Ñ·¥è·¥ç·¥á ·¥õ·¥è ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥á  ô·¥è·¥õ, ·¥õ ú·¥á ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á ·¥õ·¥è·¥è ü·¥ã…™·¥õ ·¥è…¥ ·¥õ·¥á ü·¥á…¢ Ä·¥Ä·¥ç, ·¥è“ì“ì·¥á Ä…™…¥…¢ ·¥Ä ·¥†·¥Ä Ä…™·¥á·¥õ è ·¥è“ì “ì·¥á·¥Ä·¥õ·¥ú Ä·¥áÍú± ·¥õ·¥è Íú±…™·¥ç·¥ò ü…™“ì è  è·¥è·¥ú Ä ·¥õ·¥ÄÍú±·¥ãÍú±.  ô è ·¥úÍú±…™…¥…¢ ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥á  ô·¥è·¥õ,  è·¥è·¥ú ·¥Ä…¢ Ä·¥á·¥á ·¥õ·¥è ·¥õ ú·¥á ·¥õ·¥á Ä·¥çÍú± ·¥Ä…¥·¥Ö ·¥Ñ·¥è…¥·¥Ö…™·¥õ…™·¥è…¥Íú± ·¥è“ì ·¥õ ú…™Íú± ·¥ò·¥è ü…™·¥Ñ è.\n\n"
        "üîπ **…™…¥“ì·¥è Ä·¥ç·¥Ä·¥õ…™·¥è…¥ ·¥°·¥á ·¥Ñ·¥è ü ü·¥á·¥Ñ·¥õ** üîπ\n"
        "1. **·¥ò·¥á ÄÍú±·¥è…¥·¥Ä ü …™…¥“ì·¥è Ä·¥ç·¥Ä·¥õ…™·¥è…¥:**\n"
        "   - ·¥úÍú±·¥á Ä …™·¥Ö ·¥Ä…¥·¥Ö ·¥úÍú±·¥á Ä…¥·¥Ä·¥ç·¥á: ·¥°·¥á ·¥Ñ·¥è ü ü·¥á·¥Ñ·¥õ  è·¥è·¥ú Ä ·¥úÍú±·¥á Ä …™·¥Ö ·¥Ä…¥·¥Ö ·¥úÍú±·¥á Ä…¥·¥Ä·¥ç·¥á ·¥õ·¥è ·¥ò Ä·¥è·¥†…™·¥Ö·¥á ·¥ò·¥á ÄÍú±·¥è…¥·¥Ä ü…™·¥¢·¥á·¥Ö Íú±·¥á Ä·¥†…™·¥Ñ·¥áÍú±.\n"
        "2. **·¥úÍú±·¥Ä…¢·¥á ·¥Ö·¥Ä·¥õ·¥Ä:**\n"
        "   - ·¥Ö·¥Ä·¥õ·¥Ä ·¥è…¥ ·¥Ñ·¥è·¥ç·¥ç·¥Ä…¥·¥ÖÍú± ·¥úÍú±·¥á·¥Ö, ·¥õ·¥è·¥è üÍú± ·¥Ä·¥Ñ·¥Ñ·¥áÍú±Íú±·¥á·¥Ö, ·¥Ä…¥·¥Ö Íú∞ Ä·¥áœô·¥ú·¥á…¥·¥Ñ è ·¥è“ì ·¥úÍú±·¥á ·¥õ·¥è …™·¥ç·¥ò Ä·¥è·¥†·¥á Íú±·¥á Ä·¥†…™·¥Ñ·¥áÍú±.\n\n"
        "üîπ ** ú·¥è·¥° ·¥°·¥á ·¥úÍú±·¥á  è·¥è·¥ú Ä …™…¥“ì·¥è Ä·¥ç·¥Ä·¥õ…™·¥è…¥** üîπ\n"
        "   - **Íú±·¥á Ä·¥†…™·¥Ñ·¥á ·¥ò Ä·¥è·¥†…™Íú±…™·¥è…¥:** ·¥õ·¥è ·¥ò Ä·¥è·¥†…™·¥Ö·¥á ·¥Ä…¥·¥Ö ·¥á…¥ ú·¥Ä…¥·¥Ñ·¥á ·¥õ ú·¥á Íú±·¥á Ä·¥†…™·¥Ñ·¥áÍú± ·¥è“ì“ì·¥á Ä·¥á·¥Ö  ô è ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥á  ô·¥è·¥õ.\n"
        "   - **·¥Ñ·¥è·¥ç·¥ç·¥ú…¥…™·¥Ñ·¥Ä·¥õ…™·¥è…¥:** ·¥õ·¥è ·¥Ñ·¥è·¥ç·¥ç·¥ú…¥…™·¥Ñ·¥Ä·¥õ·¥á ·¥°…™·¥õ ú  è·¥è·¥ú ·¥Ä ô·¥è·¥ú·¥õ ·¥ú·¥ò·¥Ö·¥Ä·¥õ·¥áÍú± & …¥·¥á·¥° Íú∞·¥á·¥Ä·¥õ·¥ú Ä·¥áÍú±.\n"
        "   - **Íú±·¥á·¥Ñ·¥ú Ä…™·¥õ è:** ·¥õ·¥è ·¥ç·¥è…¥…™·¥õ·¥è Ä ·¥Ä…¥·¥Ö ·¥ò Ä·¥è·¥õ·¥á·¥Ñ·¥õ ·¥Ä…¢·¥Ä…™…¥Íú±·¥õ ·¥ú…¥·¥Ä·¥ú·¥õ ú·¥è Ä…™·¥¢·¥á·¥Ö ·¥Ä·¥Ñ·¥Ñ·¥áÍú±Íú±, ·¥Ä…¥·¥Ö Íú±·¥ò·¥Ä·¥ç·¥ç·¥á Ä.\n"
        "   - **·¥ò Ä·¥è·¥ç·¥è·¥õ…™·¥è…¥Íú± ·¥Ä…¥·¥Ö ·¥Ä·¥Ö·¥†·¥á Ä·¥õ…™Íú±·¥á·¥ç·¥á…¥·¥õÍú±:** ·¥°·¥á ·¥ç·¥Ä è Íú± ú·¥Ä Ä·¥á ·¥ò·¥Ä…™·¥Ö ·¥ò Ä·¥è·¥ç·¥è·¥õ…™·¥è…¥Íú± ·¥Ä…¥·¥Ö ·¥Ä·¥Ö·¥†·¥á Ä·¥õ…™Íú±·¥á·¥ç·¥á…¥·¥õÍú± ·¥õ ú Ä·¥è·¥ú…¢ ú ·¥õ ú·¥á  ô·¥è·¥õ.\n\n"
        "üîπ **·¥Ö·¥Ä·¥õ·¥Ä Íú±·¥á·¥Ñ·¥ú Ä…™·¥õ è** üîπ\n"
        "   - ·¥°·¥á ·¥úÍú±·¥á Íú±·¥á·¥Ñ·¥ú Ä…™·¥õ è ·¥ç·¥á·¥ÄÍú±·¥ú Ä·¥áÍú± ·¥õ·¥è ·¥ò Ä·¥è·¥õ·¥á·¥Ñ·¥õ  è·¥è·¥ú Ä …™…¥“ì·¥è Ä·¥ç·¥Ä·¥õ…™·¥è…¥. 100% Íú±·¥á·¥Ñ·¥ú Ä·¥á ·¥Ä ü ü …™…¥“ì·¥è.\n\n"
        "·¥õ ú·¥Ä…¥·¥ã  è·¥è·¥ú “ì·¥è Ä ·¥úÍú±…™…¥…¢ ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥á  ô·¥è·¥õ. ·¥°·¥á ·¥Ä Ä·¥á ·¥Ñ·¥è·¥ç·¥ç…™·¥õ·¥õ·¥á·¥Ö ·¥õ·¥è ·¥ò Ä·¥è·¥õ·¥á·¥Ñ·¥õ…™…¥…¢  è·¥è·¥ú Ä ·¥ò Ä…™·¥†·¥Ä·¥Ñ è ·¥Ä…¥·¥Ö ·¥á…¥Íú±·¥ú Ä…™…¥…¢ ·¥Ä…¥ ·¥á…¥·¥ä·¥è è·¥Ä ô ü·¥á ·¥áx·¥ò·¥á Ä…™·¥á…¥·¥Ñ·¥á ·¥°…™·¥õ ú ·¥è·¥ú Ä  ô·¥è·¥õ.\n\n"
        "‚òëÔ∏è ·¥ä·¥è…™…¥ ·¥è·¥ú Ä ·¥Ñ·¥è·¥Ö…™…¥…¢ ·¥Ñ ú·¥Ä…¥…¥·¥á ü Íú∞·¥è Ä ·¥ç·¥è Ä·¥á  ô·¥è·¥õÍú± ‚òëÔ∏è"
    ).replace('_', '\\_')

    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="Close", callback_data="close_privacy"))

    bot.send_message(
        message.chat.id,
        privacy_content,
        parse_mode="Markdown",
        reply_markup=keyboard
    )

# Callback handler for closing the privacy policy message
@bot.callback_query_handler(func=lambda call: call.data == "close_privacy")
def close_privacy(call):
    bot.delete_message(call.message.chat.id, call.message.message_id)

# Help command handler
@bot.message_handler(commands=['help'])
def help_command(message):
    user_id = message.from_user.id

    # Help content
    help_content = (
        "üî∞ **·¥°·¥á ü·¥Ñ·¥è·¥ç·¥á ·¥õ·¥è ·¥õ ú·¥á  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥á ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  ô·¥è·¥õ!** üî∞\n\n"
        " ú·¥á Ä·¥á ·¥Ä Ä·¥á ·¥õ ú·¥á ·¥Ä·¥†·¥Ä…™ ü·¥Ä ô ü·¥á ·¥Ñ·¥è·¥ç·¥ç·¥Ä…¥·¥ÖÍú±:\n\n"
        "‚òëÔ∏è **Íú±·¥õ·¥Ä Ä·¥õ - Íú±·¥õ·¥Ä Ä·¥õ ·¥õ ú·¥á  ô·¥è·¥õ** ‚òëÔ∏è\n\n"
        "üìä **Íú±·¥õ·¥Ä·¥õÍú± - Íú±·¥á·¥á Íú±·¥õ·¥Ä·¥õ…™Íú±·¥õ…™·¥ÑÍú±** üìä\n\n"
        "‚òëÔ∏è **Íú±·¥á…¥·¥Ö -  ô Ä·¥è·¥Ä·¥Ö·¥Ñ·¥ÄÍú±·¥õ ·¥ç·¥áÍú±Íú±·¥Ä…¢·¥á ·¥õ·¥è ·¥úÍú±·¥á ÄÍú±** ‚òëÔ∏è\n\n"
        "‚òëÔ∏è ** Ä·¥á·¥Ö·¥á·¥á·¥ç -  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥áÍú±** ‚òëÔ∏è\n\n"
        "‚òëÔ∏è **…¢·¥á…¥ - …¢·¥á…¥·¥á Ä·¥Ä·¥õ·¥á  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥áÍú±** ‚òëÔ∏è\n\n"
        "‚òëÔ∏è **·¥ò·¥èÍú±·¥õ - ·¥Ä·¥ú·¥õ·¥è ·¥ò·¥èÍú±·¥õ ·¥õ·¥è ·¥ç·¥ú ü·¥õ…™·¥ò ü·¥á ·¥Ñ ú·¥Ä…¥…¥·¥á üÍú±** ‚òëÔ∏è\n\n"
        "‚òëÔ∏è **·¥ò Ä…™·¥†·¥Ä·¥Ñ è - ·¥ò Ä…™·¥†·¥Ä·¥Ñ è ·¥Ä…¥·¥Ö ·¥ò·¥è ü…™·¥Ñ è** ‚òëÔ∏è\n\n"
        "‚òëÔ∏è ** ú·¥á ü·¥ò -  ô·¥è·¥õ ·¥Ä ü ü ·¥Ñ·¥è·¥ç·¥ç·¥Ä…¥·¥ÖÍú± ·¥áx·¥ò ü·¥Ä…¥·¥Ä·¥õ…™·¥è…¥** ‚òëÔ∏è\n\n"
        "‚òëÔ∏è **·¥ú·¥ò·¥Ö·¥Ä·¥õ·¥á - ·¥ú·¥ò·¥Ö·¥Ä·¥õ·¥á  ô·¥è·¥õ** ‚òëÔ∏è\n\n"
        "‚òëÔ∏è **Íú±·¥ú·¥ò·¥ò·¥è Ä·¥õ - ·¥Ñ·¥è…¥·¥õ·¥Ä·¥Ñ·¥õ ·¥è·¥°…¥·¥á Ä** ‚òëÔ∏è\n"
    ).replace('_', '\\_')

    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="Close", callback_data="close_help"))

    bot.send_photo(
        message.chat.id,
        photo="https://t.me/abir_x_official_developer/94",
        caption=help_content,
        parse_mode="Markdown",
        reply_markup=keyboard
    )

# Callback handler for closing the help message
@bot.callback_query_handler(func=lambda call: call.data == "close_help")
def close_help(call):
    bot.delete_message(call.message.chat.id, call.message.message_id)

# Update command handler
@bot.message_handler(commands=['update'])
def update_bot(message):
    user_id = message.from_user.id

    # Initial update message with image
    update_message = bot.send_photo(
        message.chat.id,
        photo="https://t.me/abir_x_official_developer/95",
        caption=" Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  ô·¥è·¥õ ·¥ú·¥ò·¥Ö·¥Ä·¥õ…™…¥…¢..........‚òëÔ∏è"
    )

    # Progress bar animation
    progress_bar = ['‚ñë'] * 20
    for i in range(1, 21):
        progress_bar[i-1] = '‚ñì'
        progress = ''.join(progress_bar)
        bot.edit_message_caption(
            caption=f" Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥ú ü·¥õ…™·¥ç·¥Ä·¥õ·¥á  ô·¥è·¥õ ·¥ú·¥ò·¥Ö·¥Ä·¥õ…™…¥…¢..........‚òëÔ∏è\n[{progress}] {i*5}%",
            chat_id=update_message.chat.id,
            message_id=update_message.message_id
        )
        time.sleep(0.1)  # Simulate progress

    # Delete the update message after animation
    bot.delete_message(update_message.chat.id, update_message.message_id)

    # Final update message with image and button
    final_message = (
        " ú·¥á è  ô Ä·¥è !  ô·¥è·¥õ ·¥ú·¥ò·¥Ö·¥Ä·¥õ·¥á·¥Ö ·¥õ·¥è Íú±·¥ú·¥ò Ä·¥á·¥ç·¥á‚òëÔ∏è\n"
        "·¥úÍú±·¥á /start ·¥Ñ·¥è·¥ç·¥ç·¥Ä…¥·¥Ö ·¥õ·¥è Íú±·¥á·¥á‚òëÔ∏è"
    ).replace('_', '\\_')

    # Button for more updates
    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="‚òëÔ∏èFor More Updates Join ‚òëÔ∏è", url="https://t.me/ModVipRM"))

    bot.send_photo(
        message.chat.id,
        photo="https://t.me/abir_x_official_developer/96",
        caption=final_message,
        parse_mode="Markdown",
        reply_markup=keyboard
    )

# Support command handler
@bot.message_handler(commands=['support'])
def support_command(message):
    user_id = message.from_user.id

    # Provide a cancel button
    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="Cancel", callback_data="cancel_support"))

    # Prompt the user for their problem with an image
    support_message = bot.send_photo(
        message.chat.id,
        photo="https://t.me/abir_x_official_developer/97",
        caption=" ú·¥á è  ô Ä·¥è  è·¥è·¥ú ·¥ç…™…¢ ú·¥õ  ô·¥á Íú∞·¥á·¥õ·¥Ñ ú…™…¥…¢ ·¥ò Ä·¥è ô ü·¥á·¥ç ·¥°…™·¥õ ú  ô·¥è·¥õ ·¥ò ü·¥á·¥ÄÍú±·¥á ·¥õ·¥á ü ü ·¥úÍú±  è·¥è·¥ú Ä ·¥ò Ä·¥è ô ü·¥á·¥ç",
        reply_markup=keyboard
    )

    # Register next step handler for the user's response
    bot.register_next_step_handler(support_message, handle_support_message)

# Handle the support message from the user
def handle_support_message(message):
    if message.text:
        # Forward the user's message to the bot owner
        forwarded_message = bot.forward_message(OWNER_USER_ID, message.chat.id, message.message_id)

        # Store the mapping of the forwarded message to the original user
        forwarded_messages[forwarded_message.message_id] = message.chat.id

        # Notify the user that their message has been forwarded with an image
        bot.send_photo(
            message.chat.id,
            photo="https://t.me/abir_x_official_developer/103",
            caption=" è·¥è·¥ú Ä ·¥ç·¥áÍú±Íú±·¥Ä…¢·¥á  ú·¥ÄÍú±  ô·¥á·¥á…¥ Íú±·¥á…¥·¥õ ·¥õ·¥è ·¥õ ú·¥á  ô·¥è·¥õ ·¥è·¥°…¥·¥á Ä. ·¥õ ú·¥á è ·¥°…™ ü ü  Ä·¥á·¥ò ü è ·¥õ·¥è  è·¥è·¥ú Íú± ú·¥è Ä·¥õ ü è."
        )

        # Notify the owner that a new support message has been received with an image
        bot.send_photo(
            OWNER_USER_ID,
            photo="https://t.me/abir_x_official_developer/102",
            caption=f"…¥·¥á·¥° Íú±·¥ú·¥ò·¥ò·¥è Ä·¥õ ·¥ç·¥áÍú±Íú±·¥Ä…¢·¥á Íú∞ Ä·¥è·¥ç @{message.from_user.username} (ID: {message.from_user.id}).  Ä·¥á·¥ò ü è ·¥Ö…™ Ä·¥á·¥Ñ·¥õ ü è ·¥õ·¥è ·¥õ ú…™Íú± ·¥ç·¥áÍú±Íú±·¥Ä…¢·¥á ·¥õ·¥è  Ä·¥áÍú±·¥ò·¥è…¥·¥Ö."
        )

# Callback handler for canceling support input
@bot.callback_query_handler(func=lambda call: call.data == "cancel_support")
def cancel_support(call):
    bot.delete_message(call.message.chat.id, call.message.message_id)
    bot.send_photo(
        call.message.chat.id,
        photo="https://t.me/abir_x_official_developer/98",
        caption="·¥è·¥°…¥·¥á Ä ·¥Ñ·¥è…¥·¥õ·¥Ä·¥Ñ·¥õ ·¥Ñ·¥Ä…¥·¥Ñ·¥á ü ü·¥á·¥Ö."
    )
    # Clear the step handler to avoid processing further messages
    bot.clear_step_handler_by_chat_id(call.message.chat.id)

# Handle replies from the bot owner
@bot.message_handler(func=lambda message: message.reply_to_message and message.reply_to_message.message_id in forwarded_messages)
def handle_owner_reply(message):
    original_user_id = forwarded_messages.get(message.reply_to_message.message_id)

    if original_user_id:
        bot.send_photo(
            original_user_id,
            photo="https://t.me/abir_x_official_developer/101",
            caption=f"·¥è·¥°…¥·¥á Ä  Ä·¥á·¥ò ü è ·¥õ·¥è  è·¥è·¥ú Ä ·¥ç·¥áÍú±Íú±·¥Ä…¢·¥á: {message.text}"
        )

        # Notify the owner that their reply has been sent
        bot.send_message(
            OWNER_USER_ID,
            " è·¥è·¥ú Ä  Ä·¥á·¥ò ü è  ú·¥ÄÍú±  ô·¥á·¥á…¥ Íú±·¥á…¥·¥õ ·¥õ·¥è ·¥õ ú·¥á ·¥úÍú±·¥á Ä."
        )

# /info command handler
@bot.message_handler(commands=['info'])
def info_command(message):
    info_text = (
        " ô·¥è·¥õ  ü·¥Ä…¥…¢·¥ú·¥Ä…¢·¥á: ·¥ò è·¥õ ú·¥è…¥ ‚òëÔ∏è\n"
        " ô·¥è·¥õ  ü…™ ô Ä·¥Ä Ä è: ·¥ò è·¥õ ú·¥è…¥ ·¥õ·¥á ü·¥á ô·¥è·¥õ ‚òëÔ∏è\n"
        " ô·¥è·¥õ  ú·¥èÍú±·¥õ·¥á·¥Ö ·¥è…¥: ·¥ò·¥á ü ü·¥Ä.·¥Ä·¥ò·¥ò ‚òëÔ∏è\n"
        " ô·¥è·¥õ  ú·¥èÍú±·¥õ·¥á·¥Ö  ô è: @abirxdhackz ‚òëÔ∏è\n"
        " ô·¥è·¥õ ·¥ç·¥Ä…™…¥·¥õ·¥Ä…™…¥·¥á·¥Ö  ô è: @ModVipRM ‚òëÔ∏è\n"
        " ô·¥è·¥õ ·¥ú·¥ò·¥Ö·¥Ä·¥õ·¥áÍú± ·¥Ñ ú·¥Ä…¥…¥·¥á ü: @ModVipRM ‚òëÔ∏è\n"
        " ô·¥è·¥õ Íú±·¥ú·¥ò·¥ò·¥è Ä·¥õ …¢ Ä·¥è·¥ú·¥ò: @ModVipRM_Discussion ‚òëÔ∏è\n"
        " ô·¥è·¥õ Íú±·¥è·¥ú Ä·¥Ñ·¥á ·¥Ñ·¥è·¥Ö·¥á:  ô Ä·¥è …™·¥õ …™Íú± ·¥ò·¥Ä…™·¥Ö ·¥Ö·¥ç @abirxdhackz ‚òëÔ∏è\n"
        " ô·¥è·¥õ ·¥ò·¥Ä è·¥ç·¥á…¥·¥õ ·¥Ñ ú·¥Ä…¥…¥·¥á ü: @Proofchannelch ‚òëÔ∏è"
    )

    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="Contact Owner ‚òëÔ∏è", url="https://t.me/abirxdhackz"))
    keyboard.add(InlineKeyboardButton(text="Update Channel ‚òëÔ∏è", url="https://t.me/ModVipRM"))

    # Send the image with the info text as the caption
    image_url = "https://t.me/abir_x_official_developer/105"
    bot.send_photo(message.chat.id, image_url, caption=info_text, reply_markup=keyboard)

def send_faq_menu(chat_id, message_id=None):
    # FAQ questions and answers
    faqs = {
        " ú·¥è·¥° ·¥õ·¥è  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ä ·¥Ñ·¥è·¥Ö·¥á ?": (
            "‚òëÔ∏è “ì…™ ÄÍú±·¥õ ·¥è·¥ò·¥á…¥ ·¥õ ú·¥á  ô·¥è·¥õ.\n\n"
            "‚òëÔ∏è ·¥õ ú·¥á…¥ ·¥ä·¥è…™…¥ ·¥Ä ü ü ·¥Ñ ú·¥Ä…¥…¥·¥á üÍú±.\n\n"
            "‚òëÔ∏è ·¥õ ú·¥á…¥ ·¥úÍú±·¥á /redeem ·¥Ñ·¥è·¥ç·¥ç·¥Ä…¥·¥Ö ·¥Ä…¥·¥Ö ·¥ÄÍú∞·¥õ·¥á Ä …™·¥õ ·¥ò·¥ÄÍú±·¥õ·¥á  è·¥è·¥ú Ä  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥Ñ·¥è·¥Ö·¥á Íú∞·¥è·¥ú…¥·¥Ö Íú∞ Ä·¥è·¥ç ·¥è·¥ú Ä ·¥Ñ ú·¥Ä…¥…¥·¥á üÍú±.\n\n"
            "‚òëÔ∏è ·¥áx·¥Ä·¥ç·¥ò ü·¥á\n\n"
            "/redeem CRUNCHYROLL-5350-3031-9889"
        ),
        "·¥°…™ ü ü ·¥Ä ·¥ò·¥á ÄÍú±·¥è…¥ ·¥Ñ·¥Ä…¥  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥ç·¥ú ü·¥õ…™·¥ò ü·¥á ·¥õ…™·¥ç·¥á?": 
            "‚ùå …¥·¥è  ô Ä·¥è …¥·¥è…¥·¥á ·¥Ñ·¥Ä…¥  Ä·¥á·¥Ö·¥á·¥á·¥ç ·¥ç·¥ú ü·¥õ…™·¥ò ü·¥á ·¥õ…™·¥ç·¥á ·¥ÄÍú± ·¥è·¥ú Ä  ô·¥è·¥õ Íú±·¥á·¥Ñ·¥ú Ä…™·¥õ è ‚òëÔ∏è",
        "…™Íú± ·¥õ ú·¥á  ô·¥è·¥õ ·¥ò·¥Ä…™·¥Ö?": 
            "‚ùå …¥·¥è  ô Ä·¥è  ô·¥è·¥õ …™Íú± …¥·¥è·¥õ ·¥ò·¥Ä…™·¥Ö  è·¥è·¥ú ·¥ä·¥úÍú±·¥õ  ú·¥Ä·¥†·¥á ·¥õ·¥è ·¥ä·¥è…™…¥ 4 ·¥Ñ ú·¥Ä…¥…¥·¥á üÍú± ·¥õ·¥è ·¥úÍú±·¥á …™·¥õ ‚òëÔ∏è",
        "·¥Ñ·¥Ä…¥ ·¥õ ú·¥á  ô·¥è·¥õ Íú±·¥è·¥ú Ä·¥Ñ·¥á ·¥Ñ·¥è·¥Ö·¥á  ô·¥á Íú± ú·¥Ä Ä·¥á·¥Ö?": 
            "‚ùå …¥·¥è  ô Ä·¥è  ô·¥è·¥õ Íú±·¥è·¥ú Ä·¥Ñ·¥á ·¥Ñ·¥è·¥Ö·¥á …™Íú± ·¥ò·¥Ä…™·¥Ö ·¥Ö·¥ç @abirxdhackz Íú∞·¥è Ä …™·¥õ. ‚òëÔ∏è"
    }

    # Create the caption with questions in bold and answers in normal text
    faq_caption = "‚òëÔ∏è <b>Frequently Asked Questions:</b>\n\n"
    for question, answer in faqs.items():
        faq_caption += f"üîπ <b>{question}</b>\n"
        faq_caption += f"{answer}\n\n"
    
    # Add the inline button
    keyboard = InlineKeyboardMarkup()
    keyboard.add(InlineKeyboardButton(text="üôã Ask Questions In Community ‚òëÔ∏è", url="https://t.me/ModVipRM_Discussion"))

    # Send the image with the caption and inline button
    image_url = "https://t.me/abir_x_official_developer/106"
    if message_id:
        bot.edit_message_media(chat_id=chat_id, message_id=message_id, media=telebot.types.InputMediaPhoto(image_url, caption=faq_caption, parse_mode='HTML'), reply_markup=keyboard)
    else:
        bot.send_photo(chat_id, image_url, caption=faq_caption, reply_markup=keyboard, parse_mode='HTML')

# /faq command handler
@bot.message_handler(commands=['faq'])
def faq_command(message):
    send_faq_menu(message.chat.id)

# Start the bot
print("Bot is running...")
bot.polling()
